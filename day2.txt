# import dependeny
from fastapi import FastAPI
from fastapi.params import Body
from pydantic import BaseModel
from random import randrange

app= FastAPI()
my_post=[{"title":"welcome title","content":"dummy content","id":101}]

class Post(BaseModel):
    title: str
    content: str
@app.get("/loadposts")
def loadallposts():
    return {"dummy-message"}

@app.post("/addpost")
def addpost(payload: Post):
    data= payload.dict()
    data['id']=randrange(0,1000)
    my_post.append(data)
    
    return {"message":data}

@app.get("/register")
def register():
    return {"message":"welcome to register"}
