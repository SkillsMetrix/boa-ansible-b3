- name: install apache server
  apt:
    name: apache2
    state: absent
  when: install_apache_flag

# putting multiple conditions

- name: combine conditions
  debug:
    var: ansible_facts['kernel_version']
  when:
    - ansible_facts['os_family'] == 'Debian'
    - ansible_facts['distribution_major_version'] == "24"

- name: combine conditions using or
  debug:
    var: ansible_facts['kernel_version']
  when:
    - ansible_facts['os_family'] == 'Debian' and ansible_facts['distribution_major_version'] | int >=20

  
  # register a var and evaluate the valuue using when

- name: use the var
  ansible.builtin.command: cat /home/ubuntu/user-cred.txt
  register: test_file_content

- name: use this var to perform task
  debug:
    var: test_file_content.stdout
  when: test_file_content.stdout.find('allowed')!= -1
